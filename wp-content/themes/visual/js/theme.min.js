!function(a){var b={cache:{$document:a(document),$window:a(window),$main:a("#posts-wrap"),masonry:!1,masonryLoaded:!1,windowWidth:a(window).width(),$colophon:a("#colophon")},init:function(){this.bindEvents()},bindEvents:function(){var b=this;a.fn.slideFadeToggle=function(a,b,c){return this.animate({opacity:"toggle",height:"toggle"},a,b,c)},b.navigationInit(),this.cache.$document.on("ready",function(){a("body").hasClass("masonry")&&(b.cache.masonry=!0,b.masonryInit());var c=b.cache.$colophon.outerHeight();a("#push").css({height:c}),a("#page").css({"margin-bottom":c*-1})}),this.cache.$window.on("resize",b.debounce(function(){b.cache.masonry&&b.masonryInit()},200)),a(document.body).on("post-load",function(c){var d=a(".infinite-wrap").not(".is--replaced"),e=d.find(".hentry");e.hide(),b.cache.$main.append(e),e.imagesLoaded(function(){console.log("reloaded"),b.cache.$main.masonry("appended",e,!0).masonry("reloadItems").masonry("layout"),e.fadeIn()})})},navigationInit:function(){a(".menu-toggle a").on("click",function(b){b.preventDefault(),a(".main-navigation .menu").slideToggle("slow",function(){a(this).is(":hidden")&&a(this).attr("style","")})})},masonryInit:function(){var a=document.body.clientWidth,b=this;if(a<=510)return void(b.cache.masonryLoaded&&b.cache.$main.masonry().masonry("destroy"));var c=30;document.body.clientWidth<=790&&(c=20),this.cache.$main.imagesLoaded(function(){b.cache.$main.find(".hentry").css({"margin-right":0}),b.cache.$main.masonry({itemSelector:".hentry",gutter:c}),b.cache.masonryLoaded=!0})},debounce:function(a,b){var c=null;return function(){var d=this,e=arguments;clearTimeout(c),c=setTimeout(function(){a.apply(d,e)},b)}}};b.init()}(jQuery);